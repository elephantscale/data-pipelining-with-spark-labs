<p><link rel='stylesheet' href='../assets/css/main.css'/></p>
<h1 id="spark-joins">Spark Joins</h1>
<h2 id="objective">Objective</h2>
<p>Joins can be expensive, specially on large scale. Here we will take a closer look at mechanics of join in Spark</p>
<h2 id="what-you-will-learn">What you will learn</h2>
<ul>
<li>Joins in Spark</li>
<li>How to effectively do joins in Spark</li>
</ul>
<h2 id="knowledge-check">Knowledge Check</h2>
<p><strong>Why are joins expensive?</strong></p>
<p><strong>What are some issues of joining a very large table (100 of millions of rows) with a tiny table (say few 100 rows)?</strong></p>
<p><strong>What is a ‘broadcast hash join’? How does it work? And what problem does it solve?</strong></p>
<p><strong>How does ‘Sort Merge Join’ work in Spark?</strong></p>
<p><strong>How can ‘Sort Merge Join’ be sped up?</strong></p>
<h2 id="essential-reading">Essential Reading</h2>
<ul>
<li>Read <strong>A Family of Spark Joins</strong> in <a href="https://learning.oreilly.com/library/view/learning-spark-2nd/9781492050032/ch07.html">Chapter 7. Optimizing and Tuning Spark Applications</a> from book <a href="https://learning.oreilly.com/library/view/learning-spark-2nd/9781492050032/">Learning Spark - 2nd Edition</a> - this covers the basics of Spark caching</li>
<li><a href="https://towardsdatascience.com/the-art-of-joining-in-spark-dcbd33d693c">The art of joining in Spark</a></li>
<li><a href="https://towardsdatascience.com/about-joins-in-spark-3-0-1e0ea083ea86">About Joins in Spark 3.0</a></li>
<li><a href="https://spark.apache.org/docs/latest/sql-performance-tuning.html#join-strategy-hints-for-sql-queries">Spark Performance Tuning Guide</a> a good overview of configuration parameters for optimizing</li>
</ul>
<h2 id="extra-reading">Extra Reading</h2>
<ul>
<li><a href="https://databricks.com/session/optimizing-apache-spark-sql-joins">Optimizing Spark Joins</a></li>
</ul>
<h2 id="labs">Labs</h2>
<h3 id="lab-1-doing-a-straight-join">Lab-1: Doing a straight join</h3>
<ul>
<li>In this lab, we will do a simple, straight forward join of two datasets</li>
<li>Notebook (TODO)</li>
</ul>
<h3 id="lab-2-doing-a-broadcast-join">Lab-2: Doing a broadcast join</h3>
<ul>
<li>Instructions (TODO)</li>
</ul>
<h3 id="lab-3-speeding-up-sort-merge-join">Lab-3: Speeding up ‘Sort Merge Join’</h3>
<ul>
<li>Instructions (TODO)</li>
</ul>
<h3 id="lab-4-optimizing-joins">Lab-4: Optimizing Joins</h3>
<ul>
<li>We will combine all techniques to speed up joins</li>
</ul>
